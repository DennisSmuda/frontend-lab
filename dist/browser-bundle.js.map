{"version":3,"sources":["webpack:///webpack/bootstrap fef60880e66f6adb9660","webpack:///./src/js/main.js","webpack:///./src/js/ScrollFloat.js","webpack:///./src/js/ScrollFragment.js","webpack:///./src/scss/main.scss"],"names":["$","document","ready","ScrollFloat","selector","active","lastScrollTop","scrollPercentage","windowHeight","window","height","documentHeight","$floatItems","tweens","length","indicatorPosition","setupTweens","setupEvents","loop","each","i","el","TimelineMax","add","TweenMax","fromTo","y","scrollPercent","forEach","timeline","seek","requestAnimationFrame","bind","on","scrollCallback","scrollTop","getRandomNumber","min","max","Math","random","ScrollFragment","$trigger","windowWidth","width","scrollProgress","fragmentSVG","numFragments","fragments","$fragmentContainer","containerWidth","fragmentOffset","offset","left","fragmentWidth","triggerOffset","position","top","triggered","spreadTweens","parallaxTweens","setupFragmentsWithinContainer","setupTimelines","newYPos","newXPos","x","numFirstRow","floor","numRows","currentRow","numCurrentRow","currentColumn","counter","currentAmount","pow","newElement","css","appendTo"],"mappings":"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","file":"./dist/browser-bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fef60880e66f6adb9660","import ScrollFloat from 'ScrollFloat';\nimport ScrollFragment from 'ScrollFragment';\n\n\n$(document).ready(function() {\n  // let floater = new ScrollFloat('story');\n  // let fragger = new ScrollFragment('trigger');\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js","/**\n *\n */\nexport default class ScrollFloat {\n\n  constructor(selector) {\n    this.active                 = true;\n    this.lastScrollTop          = 0;\n    this.scrollPercentage       = 0;\n    this.windowHeight           = $(window).height();\n    this.documentHeight         = $(document).height();\n\n    this.$floatItems            = $(`.${selector}`);\n    this.tweens                 = [this.$floatItems.length];\n    this.indicatorPosition      = 0;\n\n    this.setupTweens();\n    this.setupEvents();\n\n\n    this.loop();\n  }\n\n  setupTweens() {\n    this.$floatItems.each((i, el) => {\n      this.tweens[i] = new TimelineMax().add([\n        // TweenMax.fromTo($(el), 1, { y: (i+1)*200}, {y: 0}),\n        TweenMax.fromTo($(el), 1, { y: this.windowHeight/2}, {y: 0}),\n        // TweenMax.fromTo($(el).find('[data-layer=\"-1\"]'), 1, { y: 100}, {y: -100}),\n        // TweenMax.fromTo($(el).find('[data-layer=\"+1\"]'), 1, { y: 300}, {y: -300}),\n      ]);\n    });\n  }\n\n  loop() {\n    // Lerp indicator towards current Scroll percentage\n    // - Use lerped indicator as 'timeline-seeker'\n    this.scrollPercent = (this.lastScrollTop + this.windowHeight)/this.documentHeight || 0;\n    this.indicatorPosition += ((this.scrollPercent - this.indicatorPosition) * 0.05);\n\n\n    this.tweens.forEach((timeline, i) => {\n      timeline.seek(this.indicatorPosition)\n    });\n\n\n\n    if (this.active) requestAnimationFrame(this.loop.bind(this));\n  }\n\n\n  setupEvents() {\n    $(window).on('scroll', window, this.scrollCallback.bind(this));\n\n    $(window).on('focusout', () => {\n      this.active = false;\n    });\n\n    $(window).on('focusin', () => {\n      this.active = true;\n      this.loop()\n    });\n  }\n\n  scrollCallback() {\n    if (!this.active) return;\n\n    this.lastScrollTop = $(window).scrollTop()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ScrollFloat.js","\nfunction getRandomNumber(min, max) {\n  return (Math.random() * (max - min) + min);\n}\n\n\nexport default class ScrollFragment {\n  constructor(selector) {\n    this.active         = true;\n    this.$trigger       = $(`.${selector}`);\n\n    this.windowWidth    = $(window).width();\n    this.windowHeight   = $(window).height();\n    this.documentHeight = $(document).height();\n\n    // Fragments\n    this.scrollProgress     = 0;\n    this.indicatorPosition  = 0;\n    this.fragmentSVG        = `<div class=\"fragment\"> <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 30 30\"><defs><path d=\"M.68 0L15 30 29.32 0H.68z\" id=\"a\"/></defs><g visibility=\"inherit\"><use xlink:href=\"#a\" /><use xlink:href=\"#a\" /></g></svg> </div>`\n    this.numFragments       = 1;\n    this.fragments          = [this.numFragments];\n    this.$fragmentContainer = $('#fragment-container');\n    this.containerWidth     = this.$fragmentContainer.width();\n    this.fragmentOffset     = this.$fragmentContainer.offset().left\n    this.fragmentWidth      = 30;\n\n    this.triggerOffset      = this.$trigger.position().top;\n    this.triggered          = false;\n    this.scrollTop          = 0;\n\n    this.spreadTweens       = [this.numFragments];\n    this.parallaxTweens     = [this.numFragments];\n\n    this.setupFragmentsWithinContainer();\n    this.setupTimelines();\n\n    // Setup Scroll Event\n    $(window).on('scroll', window, this.scrollCallback.bind(this));\n    // Start Looping\n    this.loop();\n\n  }\n\n\n  setupTimelines() {\n    this.fragments = $('.fragment');\n    this.fragments.each((i, el) => {\n\n      let newYPos = getRandomNumber(0, this.documentHeight-this.windowHeight*1.5);\n      let newXPos = getRandomNumber(-this.windowWidth/2.5, this.windowWidth/2.5)\n\n      // Spread Tweens\n      this.spreadTweens[i] = new TimelineMax().add([\n        TweenMax.fromTo($(el), 1, {\n          y: 0,\n          x: 0\n        }, {\n          y: newYPos,\n          x: newXPos,\n        }),\n      ]);\n    });\n\n  }\n\n\n  loop() {\n    if (this.scrollTop > this.triggerOffset) {\n\n      this.scrollProgress = (this.scrollTop + this.triggerOffset)/this.documentHeight || 0;\n      this.indicatorPosition += ((this.scrollProgress - this.indicatorPosition) * 0.5);\n\n\n\n      this.spreadTweens.forEach((timeline, i) => {\n        timeline.seek(1);\n      });\n\n\n    } else {\n      // Timeline is at '0', when scrolled before trigger\n      this.spreadTweens.forEach((timeline, i) => {\n        timeline.seek(0);\n      });\n    }\n\n    if (this.active) requestAnimationFrame(this.loop.bind(this));\n  }\n\n\n\n  scrollCallback() {\n    this.scrollTop = $(window).scrollTop()\n  }\n\n  setupFragmentsWithinContainer() {\n    // Gaußsche Summenformel (Dreiecks-Zahlen zur berechnung aller Fragmente)\n    let numFirstRow   = Math.floor(this.containerWidth/this.fragmentWidth);\n    let numRows       = numFirstRow;\n    let currentRow    = 0;\n    let numCurrentRow = numFirstRow;\n    let currentColumn = 0;\n    let counter       = 0;\n    let currentAmount = numFirstRow - currentRow;\n\n    this.numFragments = (Math.pow(numFirstRow, 2) + numFirstRow) / 2;\n\n    for (var i = 0; i < this.numFragments; i++) {\n      let newElement = $(this.fragmentSVG);\n\n      newElement.css('left', (counter * this.fragmentWidth)+(currentRow*this.fragmentWidth/2));\n      newElement.css('top', currentRow*this.fragmentWidth);\n      newElement.css('width', this.fragmentWidth);\n      newElement.css('height', this.fragmentWidth);\n      newElement.css('opacity', Math.random())\n      newElement.appendTo(this.$fragmentContainer);\n\n      // Every Row contains one element less than the row before\n      // -> Gauß-Triangle\n      if (counter == numCurrentRow - 1) {\n        numCurrentRow--;\n        currentRow++;\n        counter = 0;\n      } else {\n        counter++;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ScrollFragment.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/scss/main.scss\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}